{% extends 'base.html' %}

{% block title %}{{ media.display_name }} - Squishy{% endblock %}

{% block content %}
<div class="media-detail">
    <div class="back-button-container">
        <a href="{{ url_for('ui.index') }}" class="button back-button">‚Üê Back to Home</a>
    </div>
    
    <div class="media-header">
        {% if media.poster_url %}
        <img src="{{ media.poster_url }}" alt="{{ media.title }}" class="media-poster">
        {% else %}
        <div class="placeholder-poster large">
            <span>{{ media.title[0] }}</span>
        </div>
        {% endif %}
        
        <div class="media-info">
            <h1>{{ media.display_name }}</h1>
            <p class="media-type">{{ media.type|capitalize }}</p>
            <p class="media-path">{{ media.path }}</p>
            
            <form action="{{ url_for('ui.transcode', media_id=media.id) }}" method="post" class="transcode-form">
                <div class="form-group">
                    <label for="profile">Transcode Profile</label>
                    <select id="profile" name="profile" required>
                        {% for name, profile in profiles.items() %}
                        <option value="{{ name }}">{{ name }} ({{ profile.resolution }}, {{ profile.codec }})</option>
                        {% endfor %}
                    </select>
                </div>
                <button type="submit">Start Transcode</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}