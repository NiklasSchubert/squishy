{% extends 'base.html' %}

{% block title %}Home - Squishy{% endblock %}

{% block content %}
<div class="media-library">
    <div class="library-header">
        <h1>Media Library</h1>
        
        <div class="search-container">
            <div class="search-form">
                <input type="text" id="searchInput" placeholder="Search titles..." value="{{ search_query }}">
                <button type="button" id="searchButton">Search</button>
                <a href="javascript:void(0)" id="clearSearch" class="clear-search" style="display:none">Clear</a>
                <div class="loader" id="searchLoader" style="display:none"></div>
            </div>
        </div>
    </div>
    
    <!-- TV Shows Section -->
    <div id="showsSection" style="display:none">
        <div class="section-header">
            <h2>TV Shows</h2>
            <div class="section-stats" id="showsStats">0 shows found</div>
        </div>
        
        <div class="grid" id="showsGrid"></div>
        
        <div class="pagination" id="showsPagination" style="display:none">
            <div class="pagination-info" id="showsPaginationInfo">
                Page 1 of 1
            </div>
            <div class="pagination-controls" id="showsPaginationControls">
                <!-- Pagination controls will be generated here -->
            </div>
        </div>

        <div class="empty-state" id="showsEmptyState" style="display:none">
            <p>No TV shows found matching your search.</p>
        </div>
    </div>
    
    <!-- Movies Section -->
    <div id="moviesSection" style="display:none">
        <div class="section-header">
            <h2>Movies</h2>
            <div class="section-stats" id="moviesStats">0 movies found</div>
        </div>
        
        <div class="grid" id="moviesGrid"></div>
        
        <div class="pagination" id="moviesPagination" style="display:none">
            <div class="pagination-info" id="moviesPaginationInfo">
                Page 1 of 1
            </div>
            <div class="pagination-controls" id="moviesPaginationControls">
                <!-- Pagination controls will be generated here -->
            </div>
        </div>

        <div class="empty-state" id="moviesEmptyState" style="display:none">
            <p>No movies found matching your search.</p>
        </div>
    </div>
    
    <!-- Initial empty state -->
    <div class="empty-state" id="initialEmptyState">
        <p>Loading media library...</p>
    </div>
    
    <!-- Global empty state -->
    <div class="empty-state" id="globalEmptyState" style="display:none">
        <p>No media found. Use the admin interface to scan for media.</p>
    </div>
</div>
{% endblock %}

{% block head %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/index.js') }}"></script>
{% endblock %}